# ===================================
# APPLICATION
# ===================================
APP_NAME="Assistant MaTanne v2"
APP_VERSION="2.0.0"
ENV=development  # development, production, test
DEBUG=True
SECRET_KEY=your-secret-key-change-in-production

# ===================================
# DATABASE - PostgreSQL
# ===================================
POSTGRES_USER=matanne
POSTGRES_PASSWORD=matanne_secret_change_me
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=matanne

# Ou URL complète (surcharge les paramètres ci-dessus)
# DATABASE_URL=postgresql://user:password@host:port/database

# ===================================
# IA - MISTRAL
# ===================================
# Clé API de https://console.mistral.ai/
# Format: N'importe quel format accepté par Mistral (sk-, msk-, etc.)
MISTRAL_API_KEY=your_mistral_api_key_here
MISTRAL_MODEL=mistral-small-latest
MISTRAL_TIMEOUT=60

# ===================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=  # Optionnel

# Ou URL complète
# REDIS_URL=redis://localhost:6379/0

# ===================================
# OLLAMA (IA)
# ===================================
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama2
OLLAMA_TIMEOUT=30

# Paramètres IA
AI_DEFAULT_TEMPERATURE=0.7
AI_DEFAULT_MAX_TOKENS=500
AI_CACHE_TTL=300

# ===================================
# MÉTÉO API
# ===================================
# Obtenir une clé gratuite sur https://openweathermap.org/api
WEATHER_API_KEY=your_openweathermap_api_key_here
WEATHER_CITY=Clermont-Ferrand
WEATHER_COUNTRY=FR
WEATHER_UNITS=metric

# ===================================
# STREAMLIT
# ===================================
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0
STREAMLIT_THEME=light

# ===================================
# SÉCURITÉ
# ===================================
ALLOWED_HOSTS=localhost,127.0.0.1,*.streamlit.app
CORS_ORIGINS=*

# ===================================
# FONCTIONNALITÉS
# ===================================
ENABLE_AI=True
ENABLE_WEATHER=True
ENABLE_CALENDAR_SYNC=False
ENABLE_NOTIFICATIONS=True

# ===================================
# NOTIFICATIONS PUSH (VAPID)
# ===================================
# Générer avec: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_EMAIL=mailto:contact@example.com

# Heures des tâches automatiques (format HH:MM)
AUTO_TASK_MORNING=08:00
AUTO_TASK_EVENING=18:00
AUTO_BACKUP_TIME=02:00

# ===================================
# LIMITES
# ===================================
MAX_RECIPES_PER_USER=1000
MAX_PROJECTS_PER_USER=100
MAX_FILE_UPLOAD_SIZE=10485760  # 10 MB en bytes

# ===================================
# LOGGING
# ===================================
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ===================================
# CELERY (Tâches asynchrones)
# ===================================
# Utilise Redis par défaut, pas besoin de configurer
# CELERY_BROKER_URL=redis://localhost:6379/0
# CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ===================================
# DÉPLOIEMENT STREAMLIT CLOUD
# ===================================
# Pour Streamlit Cloud, configurer ces secrets dans l'interface web :
# 1. DATABASE_URL (PostgreSQL externe, ex: Supabase, ElephantSQL)
# 2. SECRET_KEY (générer un UUID)
# 3. WEATHER_API_KEY
# 4. OLLAMA_URL (si hébergé séparément, sinon désactiver ENABLE_AI)

# ===================================
# GOOGLE CALENDAR
# ===================================
# Créer des identifiants OAuth2 sur: https://console.cloud.google.com/
# 1. Créer un projet ou en sélectionner un
# 2. Activer l'API Google Calendar
# 3. Créer des identifiants OAuth 2.0 (Application Web)
# 4. Ajouter http://localhost:8501/callback/google aux URIs de redirection
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ===================================
# GARMIN CONNECT (Sync fitness)
# ===================================
# Créer une app sur: https://developer.garmin.com/
GARMIN_CONSUMER_KEY=
GARMIN_CONSUMER_SECRET=

# ===================================
# FOOTBALL DATA (Paris sportifs)
# ===================================
# Obtenir une clé sur: https://www.football-data.org/
FOOTBALL_DATA_API_KEY=

# ===================================
# SUPABASE API DIRECTE (Backup/Auth)
# ===================================
SUPABASE_URL=https://xxxx.supabase.co
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_KEY=

# ===================================
# API JWT (FastAPI Auth)
# ===================================
# Clé secrète pour signer les tokens JWT API (OBLIGATOIRE en production)
# Générer avec: python -c "import secrets; print(secrets.token_urlsafe(32))"
API_SECRET_KEY=
# Secret JWT Supabase (optionnel, pour vérifier la signature des tokens Supabase)
# Trouver dans: Supabase Dashboard > Settings > API > JWT Secret
SUPABASE_JWT_SECRET=

# ===================================
# GÉNÉRATION D'IMAGES (Recettes)
# ===================================
# Banques de photos (gratuit, illimité)
UNSPLASH_API_KEY=
PEXELS_API_KEY=
PIXABAY_API_KEY=

# Génération IA (optionnel) — voir aussi .env.example.images
HUGGINGFACE_API_KEY=
LEONARDO_API_KEY=
REPLICATE_API_TOKEN=
